facet_grid_sc           package:facetscales            R Documentation

_L_a_y _o_u_t _p_a_n_e_l_s _i_n _a _g_r_i_d _w_i_t_h _d_i_f_f_e_r_e_n_t _s_c_a_l_e_s

_D_e_s_c_r_i_p_t_i_o_n:

     `facet_grid_sc` is a variant of `facet_grid`

_U_s_a_g_e:

     facet_grid_sc(rows = NULL, cols = NULL, scales = "fixed",
       space = "fixed", shrink = TRUE, labeller = "label_value",
       as.table = TRUE, switch = NULL, drop = TRUE, margins = FALSE,
       facets = NULL)
     
_A_r_g_u_m_e_n_t_s:

    rows: A set of variables or expressions quoted by 'vars()' and
          defining faceting groups on the rows or columns dimension.
          The variables can be named (the names are passed to
          'labeller').

          For compatibility with the classic interface, 'rows' can also
          be a formula with the rows (of the tabular display) on the
          LHS and the columns (of the tabular display) on the RHS; the
          dot in the formula is used to indicate there should be no
          faceting on this dimension (either row or column).

    cols: A set of variables or expressions quoted by 'vars()' and
          defining faceting groups on the rows or columns dimension.
          The variables can be named (the names are passed to
          'labeller').

          For compatibility with the classic interface, 'rows' can also
          be a formula with the rows (of the tabular display) on the
          LHS and the columns (of the tabular display) on the RHS; the
          dot in the formula is used to indicate there should be no
          faceting on this dimension (either row or column).

  scales: A list of two elements (`x` and `y`). Each element can be
          either `"fixed"` (scale limits shared across facets),
          `"free"` (with varying limits per facet), or a named list,
          with a different scale for each facet value. Previous scale
          values (`"fixed"`, `"free_x"`, `"free_y"`, `"free"` are
          accepted but soft-deprecated).

   space: If '"fixed"', the default, all panels have the same size. If
          '"free_y"' their height will be proportional to the length of
          the y scale; if '"free_x"' their width will be proportional
          to the length of the x scale; or if '"free"' both height and
          width will vary.  This setting has no effect unless the
          appropriate scales also vary.

  shrink: If 'TRUE', will shrink scales to fit output of statistics,
          not raw data. If 'FALSE', will be range of raw data before
          statistical summary.

labeller: A function that takes one data frame of labels and returns a
          list or data frame of character vectors. Each input column
          corresponds to one factor. Thus there will be more than one
          with formulae of the type '~cyl + am'. Each output column
          gets displayed as one separate line in the strip label. This
          function should inherit from the "labeller" S3 class for
          compatibility with 'labeller()'. See 'label_value()' for more
          details and pointers to other options.

as.table: If 'TRUE', the default, the facets are laid out like a table
          with highest values at the bottom-right. If 'FALSE', the
          facets are laid out like a plot with the highest value at the
          top-right.

  switch: By default, the labels are displayed on the top and right of
          the plot. If '"x"', the top labels will be displayed to the
          bottom. If '"y"', the right-hand side labels will be
          displayed to the left. Can also be set to '"both"'.

    drop: If 'TRUE', the default, all factor levels not used in the
          data will automatically be dropped. If 'FALSE', all factor
          levels will be shown, regardless of whether or not they
          appear in the data.

 margins: Either a logical value or a character vector. Margins are
          additional facets which contain all the data for each of the
          possible values of the faceting variables. If 'FALSE', no
          additional facets are included (the default). If 'TRUE',
          margins are included for all faceting variables. If specified
          as a character vector, it is the names of variables for which
          margins are to be created.

  facets: This argument is soft-deprecated, please use 'rows' and
          'cols' instead.

_E_x_a_m_p_l_e_s:

     library(ggplot2)
     library(scales)
     # Custom scales per facet:
      mydf <- data.frame(
        Subject = rep(c("A", "B", "C", "D"), each = 3),
        Magnitude = rep(c("SomeValue", "Percent", "Scientific"), times = 4),
        Value=c(c(170,0.6,2.7E-4),
                c(180, 0.8, 2.5E-4),
                c(160, 0.71, 3.2E-4),
                c(159, 0.62, 3E-4)))
     
      scales_y <- list(
        Percent = scale_y_continuous(labels=percent_format()),
        SomeValue = scale_y_continuous(),
        Scientific = scale_y_continuous(labels=scientific_format())
      )
     
      ggplot(mydf) +
        geom_point(aes(x=Subject, y=Value)) +
        facet_grid_sc(rows = vars(Magnitude), scales = list(y = scales_y))
     

